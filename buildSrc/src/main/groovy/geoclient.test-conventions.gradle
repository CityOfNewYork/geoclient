plugins {
    id 'geoclient.java-conventions'
    id 'gov.nyc.doitt.gis.geoclient.gradle.integration-test'
}

String GEOFILES_PATH = '/opt/geosupport/current/fls/'

integrationTest {
    environment('GEOFILES', GEOFILES_PATH)
    useJUnitPlatform()
    testLogging {
        // options for log level LIFECYCLE
        events "failed"
        exceptionFormat "short"

        // options for log level DEBUG
        debug {
        // displayGranularity = 2
            events "failed", "skipped", "passed"
            exceptionFormat "full"
            showStandardStreams = true
        }

        // remove standard output/error logging from --info builds
        // by assigning only 'failed' and 'skipped' events
        info.events = ["failed", "skipped"]
    }
}

test {
    environment('GEOFILES', GEOFILES_PATH)
    useJUnitPlatform()
    testLogging {
        displayGranularity = 2
        events "failed", "skipped", "passed"
        exceptionFormat "full"
        showStandardStreams = true
        // TODO filter warning from org.apiguardian.api.API.Status.STABLE
    }
}
