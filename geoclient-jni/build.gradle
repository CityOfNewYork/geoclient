
sourceSets {
  main {
    java {
      srcDirs = ['src/main/java','src/generated/java']
    }
    resources {
      srcDirs = ['src/main/resources']
    }
  }
}

dependencies {
    compile "org.jogamp.gluegen:gluegen:$gluegenVersion"
}

processResources {
  dependsOn ':geoclient-native:assemble'

  // FIXME I only work on Linux  
  ext.libfileName = "libgeoclientjni.so"
  ext.libfile = new File("${project(':geoclient-native').buildDir}/libs/geoclientJni/shared/linux_x64/${libfileName}")
  inputs.file(libfile)
  doLast {
    copy {
      //from project.localLibsDir
      from libfile
      into "${buildDir}/resources/main"
      rename libfileName, 'libgeoclientjni-linux64.so'
    }
  }
}

artifacts {
  archives jar
}
